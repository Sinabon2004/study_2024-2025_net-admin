---
## Front matter
lang: ru-RU
title: Защита по лабораторной работе №9
subtitle: pf
author:
  - Чесноков Артемий Павлович
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 15 марта 2025

## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Информация


## Цель

Изучение возможностей протокола STP и его модификаций по обеспечению
отказоустойчивости сети, агрегированию интерфейсов и перераспределению
нагрузки между ними.

## Создаем  резервное соединение между коммутаторами msk-donskayasw-1 и msk-donskaya-sw-3 .

![витым кабелем](image/1.png)

## Делаем транковый порты  .

![msk-donskaya-sw-3](image/2.png)

## Соединяем коммутаторы 1 и 4  .

![оба на 23 порт](image/3.png)

## Конфигурируем порты .

![делаем их транковыми тоже](image/4.png)

## проверяем работоспособность соединения .

![поднимается dns и порт](image/5.png)

## Отслеживаем только ICMP .

![чтобы видеть наш cpu пакет](image/6.png)

## В симуляции видим как пакет проходит через 2 коммутатор  .

![такими командами](image/7.png)

## Наблюдаем что в STP протоколе второй коммутатор имеет статус корневого .

![нас это не устраивает](image/8.png)

## Конфигурируем первый коммутатор .

![Чтобы он был корневым](image/9.png)

## В симуляции видим, что от первого коммутатора запрос сразу переходит в 3   .

![наглядная демонстрация работы stp](image/10.png)

## Ставим portfast на каждый порт ведущий в сервер  .

![пример для второго коммутатора](image/11.png)

##   .

![пример для оставшегося коммутатора](image/12.png)

## Будем продолжительное время пинговать mail сервер  .

![1000 пакетов](image/13.png)

## Отключаем путь по второму гигабитному порту  .

![shutdown](image/14.png)

## Видим как пинг временно падает на время поиска нового маршрута  .

![пропущено 5 пакетов](image/15.png)

## Обратно поднимаем  .

![так же требуется время на восстановление маршрута](image/16.png)

## Так же смотрим пинг  .

![пропущено 5 пакетов](image/17.png)

## Ставим более современную версию, функционального наследника stp  .

![пример для третьего коммутатора](image/18.png)

## Повторям эксперимент с пингом  .

![shutdown](image/19.png)

## Потери пакетов отсутствуют при опускании маршрута  .

![только небольшая задержка](image/20.png)

## 1 пакет теряется при поднятии порта  .

![1 пакет потеряли](image/21.png)

## Формируем агрегированное соединение  .

![3 доп соединения](image/22.png)

## Отключаем транковые порты на обоих коммутаторах  .

![речь про 23 порт](image/23.png)

## Соединение агрегированных интерфейсов  .

![соединили](image/24.png)

## Аналогично для следующего коммутатора  .

![так же не забываем про VLAN](image/25.png)



## Спасибо за внимание.
